package com.library.model;

import java.time.LocalDate;
import java.util.List;

import javafx.beans.property.SimpleBooleanProperty;

/**
 * Class to represent a document in the library, a document is a book, an article,
 * or a journal, etc.
 * 
 * @author Dat
 */
public class Document {

    private int documentId;  // The ID for the document
    private String name;
    private List<Integer> authorIds;
    private List<Integer> tagIds;
    private int publisherId;
    private LocalDate datePublished;
    private LocalDate dateAdded;
    private int quantityCurrent;
    private int quantityTotal;
    private String isbn; // 13 or 10

    private final SimpleBooleanProperty selected; // For checkbox

    /**
     * Constructor to initialize the Document object
     * 
     * @param documentId The ID for the document
     * @param name       The name of the document
     * @param authorIds  The IDs of the authors of the document
     * @param tagIds     The IDs of the tags of the document
     * @param publisherId The ID of the publisher of the document
     * @param isbn10     The 10-digit ISBN of the document
     * @param isbn13     The 13-digit ISBN of the document
     * @param datePublished The date the document was published
     * @param dateAdded    The date the document was added to the library
     * @param quantityCurrent The number of copies of the document that are currently
     *                        available
     * @param quantityTotal  The total number of copies of the document that the
     *                        library has
     */
    public Document(int documentId, String name, List<Integer> authorIds, List<Integer> tagIds, 
            int publisherId, String isbn, LocalDate datePublished, LocalDate dateAdded, 
                    int quantityCurrent, int quantityTotal) {
        this.documentId = documentId;
        this.name = name;
        this.authorIds = authorIds;
        this.tagIds = tagIds;
        this.publisherId = publisherId;
        this.isbn = isbn;
        this.datePublished = datePublished;
        this.dateAdded = dateAdded;
        this.quantityCurrent = quantityCurrent;
        this.quantityTotal = quantityTotal;

        this.selected = new SimpleBooleanProperty(false);
    }

    /**
     * Constructor for creating a new Document (without ID initially)
     * 
     * @param name       The name of the document
     * @param authorIds  The IDs of the authors of the document
     * @param tagIds     The IDs of the tags of the document
     * @param publisherId The ID of the publisher of the document
     * @param isbn10     The 10-digit ISBN of the document
     * @param isbn13     The 13-digit ISBN of the document
     * @param datePublished The date the document was published
     * @param dateAdded    The date the document was added to the library
     * @param quantityCurrent The number of copies of the document that are currently
     *                        available
     * @param quantityTotal  The total number of copies of the document that the
     *                        library has
     */
    public Document(String name, List<Integer> authorIds, List<Integer> tagIds, int publisherId,  String isbn,
                    LocalDate datePublished, LocalDate dateAdded, int quantityCurrent, int quantityTotal) {
        this.documentId = -1; // ID will be generated by the database
        this.name = name;
        this.authorIds = authorIds;
        this.tagIds = tagIds;
        this.publisherId = publisherId;
        this.isbn = isbn;
        this.datePublished = datePublished;
        this.dateAdded = dateAdded;
        this.quantityCurrent = quantityCurrent;
        this.quantityTotal = quantityTotal;

        this.selected = new SimpleBooleanProperty(false);
    }

    // Getters and setters
    /**
     * @return The ID of the document
     */
    public int getId() {
        return documentId;
    }

    /**
     * @param id The ID of the document
     */
    public void setId(int id) {
        this.documentId = id;
    }

    /**
     * @return The ISBN of the document
     */
    public String getIsbn() {
        return isbn;
    }

    /**
     * @param isbn The ISBN of the document
     */
    public void setIsbn(String isbn) {
        this.isbn = isbn;
    }

    /**

    /**
     * @return The ID of the document
     */
    public int getDocumentId() {
        return documentId;
    }

    /**
     * @param documentId The ID of the document
     */
    public void setDocumentId(int documentId) {
        this.documentId = documentId;
    }

    /**
     * @return The name of the document
     */
    public String getName() {
        return name;
    }

    /**
     * @param name The name of the document
     */
    public void setName(String name) {
        this.name = name;
    }

    /**
     * @return The IDs of the authors of the document
     */
    public List<Integer> getAuthorIds() {
        return authorIds;
    }

    /**
     * @param authorIds The IDs of the authors of the document
     */
    public void setAuthorIds(List<Integer> authorIds) {
        this.authorIds = authorIds;
    }

    /**
     * @return The IDs of the tags of the document
     */
    public List<Integer> getTagIds() {
        return tagIds;
    }

    /**
     * @param tagIds The IDs of the tags of the document
     */
    public void setTagIds(List<Integer> tagIds) {
        this.tagIds = tagIds;
    }

    /**
     * @return The ID of the publisher of the document
     */
    public int getPublisherId() {
        return publisherId;
    }

    /**
     * @param publisherId The ID of the publisher of the document
     */
    public void setPublisherId(int publisherId) {
        this.publisherId = publisherId;
    }

    /**
     * @return The date the document was published
     */
    public LocalDate getDatePublished() {
        return datePublished;
    }

    /**
     * @param datePublished The date the document was published
     */
    public void setDatePublished(LocalDate datePublished) {
        this.datePublished = datePublished;
    }

    /**
     * @return The date the document was added to the library
     */
    public LocalDate getDateAdded() {
        return dateAdded;
    }

    /**
     * @param dateAdded The date the document was added to the library
     */
    public void setDateAdded(LocalDate dateAdded) {
        this.dateAdded = dateAdded;
    }

    /**
     * @return The number of copies of the document that are currently available
     */
    public int getQuantityCurrent() {
        return quantityCurrent;
    }

    /**
     * @param quantityCurrent The number of copies of the document that are currently
     *                        available
     */
    public void setQuantityCurrent(int quantityCurrent) {
        this.quantityCurrent = quantityCurrent;
    }

    /**
     * @return The total number of copies of the document that the library has
     */
    public int getQuantityTotal() {
        return quantityTotal;
    }

    /**
     * @param quantityTotal The total number of copies of the document that the
     *                       library has
     */
    public void setQuantityTotal(int quantityTotal) {
        this.quantityTotal = quantityTotal;
    }

    /**
     * @return The property for the checkbox
     */
    public SimpleBooleanProperty selectedProperty() {
        return selected;
    }

    /**
     * @return The selected status of the document
     */
    public boolean isSelected() {
        return selected.get();
    }

    /**
     * @param selected The selected status of the document
     */
    public void setSelected(boolean selected) {
        this.selected.set(selected);
    }
}
